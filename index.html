<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class = "game">
        <div class = "displayScores">
            Player Score: <div id = "playerScore">
                
            </div>
            
            Computer Score: <div id = "computerScore">
    
            </div>
        </div>
            
        
        <div id="buttons">
            <button id="rock">Rock</button>
            <button id="paper">Paper</button>
            <button id="scissor">Scissor</button>
        </div>
        <div id="result">
    
        </div>
    </div>
    
</body>

<script>
    var playerScore = 0;
    var computerScore = 0;
    var gameResult = "";

    

    function computerPlay(){
        var items = Array('rock', 'paper', 'scissor')
        var item = items[Math.floor(Math.random()*items.length)];
        return item;
    }

    function playRound(playerSelection, computerSelection){
        if(playerSelection.toLowerCase() === "rock"){
            if(computerSelection === "paper"){
                computerScore++;
                gameResult = "You lose! Paper beats Rock!"
                return "You lose! Paper beats Rock!"
            }
            else if(computerSelection === "scissor"){
                playerScore++;
                gameResult = "You win! Rock beats scissor!"
                return "You win! Rock beats scissor!"
            }
            else{
                return "It's a tie."
            }
        }
        if(playerSelection.toLowerCase() === "paper"){
            if(computerSelection === "scissor"){
                computerScore++;
                return "You lose! Scissor beats paper!"
            }
            else if(computerSelection === "rock"){
                playerScore++;
                return "You win! Paper beats rock!"
            }
            else{
                return "It's a tie."
            }
        }
        if(playerSelection.toLowerCase() === "scissor"){
            if(computerSelection === "rock"){
                computerScore++;
                return "You lose! Rock beats paper!"
            }
            else if(computerSelection === "paper"){
                playerScore++;
                return "You win! Scissor beats paper!"
            }
            else{
                return "It's a tie."
            }
        }
        
    }

    function game(playerSelection){
        for(let i = 0; i < 5; i++){
            var userPlay = playerSelection
            if((playRound(userPlay,computerPlay()).charAt(4) === 'w')){
                playerScore++;
            } else if((playRound(userPlay,computerPlay()).charAt(4) === 'l')){
                computerScore++
        }else{
            
        }
        console.log(playRound(userPlay,computerPlay()));
    }
        if(playerScore > computerScore){
            return "Player wins!"
        }
        else if(computerScore > playerScore){
            return "Player loses!"
        }
        else{
            return "Nobody wins!"
        }
    }

    //console.log(playRound("rock", computerPlay()));
    // console.log(game());

    const buttons = document.querySelectorAll('button');

    function winCon(){
        if(playerScore == 5){
        document.getElementById("result").innerHTML = "Player wins";
        }else if(computerScore == 5){
        document.getElementById("result").innerHTML = "Computer wins";
    }
    }

    function playerRock(){
        playRound('rock', computerPlay());
        document.getElementById("playerScore").innerHTML = playerScore;
        document.getElementById("computerScore").innerHTML = computerScore;
        document.getElementById("result").innerHTML = gameResult;
        winCon();
    
    }

    function playerPaper(){
        playRound('paper', computerPlay());
        document.getElementById("playerScore").innerHTML = playerScore;
        document.getElementById("computerScore").innerHTML = computerScore;
        document.getElementById("result").innerHTML = gameResult;
        winCon();
        
    }

    function playerScissor(){
        playRound('scissor', computerPlay());
        document.getElementById("playerScore").innerHTML = playerScore;
        document.getElementById("computerScore").innerHTML = computerScore;
        document.getElementById("result").innerHTML = gameResult;
        winCon();
    }

    buttons.forEach((button)=>{
        button.addEventListener('click', ()=>{
            if(button.id == 'rock' ){
                // playRound('rock', computerPlay());
                // document.getElementById("playerScore").innerHTML = playerScore;
                // document.getElementById("computerScore").innerHTML = computerScore;
                // document.getElementById("result").innerHTML = gameResult;
                playerRock();
            }
            if(button.id == 'paper'){
                playerPaper();
            }
            if(button.id == 'scissor'){
                playerScissor();
            }
        })
    })
    

    
    
</script>
</html>